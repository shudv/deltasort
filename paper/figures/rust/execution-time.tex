% Figure: All algorithms comparison (log-log scale)
\begin{figure}
\centering
\begin{tikzpicture}
\begin{axis}[
    width=0.92\textwidth,
    height=7cm,
    xlabel={Number of updated values ($k$)},
    ylabel={Execution time (\textmu s)},
    xmode=log,
    ymode=log,
    log basis x=10,
    log basis y=10,
    xmin=1, xmax=100000,
    ymin=5, ymax=100000,
    xtick={1, 10, 100, 1000, 10000, 100000},
    xticklabels={1, 10 (0.01\%), 100 (0.1\%), 1K (1\%), 10K (10\%), 100K},
    legend pos=north west,
    legend style={font=\small, fill=white, fill opacity=0.95, draw=gray!50},
    grid=major,
    major grid style={line width=0.3pt, draw=gray!30},
    tick label style={font=\small},
    label style={font=\small},
]

% NativeSort
\addplot[color=gray!70, mark=square*, thick, mark size=2pt] 
    table[col sep=comma, x=k, y=native] {\rootdir/figures/rust/execution-time.csv};

% Binary Insertion
\addplot[color=orange!80, mark=triangle*, thick, mark size=2pt] 
    table[col sep=comma, x=k, y=bis] {\rootdir/figures/rust/execution-time.csv};

% Extract-Sort-Merge
\addplot[color=purple!70, mark=diamond*, thick, mark size=2pt] 
    table[col sep=comma, x=k, y=esm] {\rootdir/figures/rust/execution-time.csv};

% DeltaSort (emphasized)
\addplot[color=green!70!black, mark=*, thick, mark size=2.5pt, line width=1.5pt] 
    table[col sep=comma, x=k, y=deltasort] {\rootdir/figures/rust/execution-time.csv};

% Crossover point: bold marker + dashed drop line + label
\node[circle, fill=red!70!black, inner sep=2.5pt] at (axis cs:80000, 14000) {};
\node[circle, fill=red!70!black, inner sep=2.5pt] at (axis cs:30000, 13000) {};
\node[circle, fill=red!70!black, inner sep=2.5pt] at (axis cs:24, 2200) {};

\legend{NativeSort, BIS, ESM, \textbf{DeltaSort}}
\end{axis}
\end{tikzpicture}
\caption{Execution time comparison for $n = 100$K (log-log scale). The red circles indicate the crossover points where each update-aware algorithm is outperformed by NativeSort.}
\label{fig:rust-execution-time}
\end{figure}
